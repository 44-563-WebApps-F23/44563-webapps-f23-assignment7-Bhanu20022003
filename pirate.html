<!DOCTYPE html>
<html lang="en">

<head>
  <title>Assignment 7</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
    integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
    crossorigin="anonymous"></script>

</head>

<body>
  <form class="ui container">
    <h1>Find the treasure by Bhanu prakash</h1>

    <p>
      Click on the locations to find for treasure, look of the traps!!!!
    </p>
    <br>
    <div class="ui grid">
      <div class="four wide column">
        <p id="locations">Number of locations checked is 0.</p>
      </div>
      <div class="four wide column">
        <p id="penalty">Penalty is 0.</p>
      </div>
      <div class="eight wide column">
        <button id="clickHelp">
          <p onclick="help()">Click for help</p>
        </button>
        <p id="help">Help report</p>
      </div>
    </div>
    <br>
  </form>

  <div class="ui grid container">
    <div class="row">
      <div class="one wide column">
        <img id="img0"
         class="ui small image" 
         src="Treasure Start.jpg" 
         alt="Hunt begin" 
         onclick="check(0)" />
      </div>
      <div class="one wide column">
        <img id="img1" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(1)" />
      </div>
      <div class="one wide column">
        <img id="img2" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(2)" />
      </div>
      <div class="one wide column">
        <img id="img3" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(3)" />
      </div>
      <div class="one wide column">
        <img id="img4" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(4)" />
      </div>
    </div>
    <div class="row">
      <div class="one wide column">
        <img id="img5" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(5)" />
      </div>
      <div class="one wide column">
        <img id="img6" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(6)" />
      </div>
      <div class="one wide column">
        <img id="img7" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(7)" />
      </div>
      <div class="one wide column">
        <img id="img8" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(8)" />
      </div>
      <div class="one wide column">
        <img id="img9" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(9)" />
      </div>
    </div>
    <div class="row">
      <div class="one wide column">
        <img id="img10" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(10)" />
      </div>
      <div class="one wide column">
        <img id="img11" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(11)" />
      </div>
      <div class="one wide column">
        <img id="img12" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(12)" />
      </div>
      <div class="one wide column">
        <img id="img13" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(13)" />
      </div>
      <div class="one wide column">
        <img id="img14" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(14)" />
      </div>
    </div>
    <div class="row">
      <div class="one wide column">
        <img id="img15" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(15)" />
      </div>
      <div class="one wide column">
        <img id="img16" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(16)" />
      </div>
      <div class="one wide column">
        <img id="img17" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(17)" />
      </div>
      <div class="one wide column">
        <img id="img18" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(18)" />
      </div>
      <div class="one wide column">
        <img id="img19" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(19)" />
      </div>
    </div>
    <div class="row">
      <div class="one wide column">
        <img id="img20" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(20)" />
      </div>
      <div class="one wide column">
        <img id="img21" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(21)" />
      </div>
      <div class="one wide column">
        <img id="img22" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(22)" />
      </div>
      <div class="one wide column">
        <img id="img23" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(23)" />
      </div>
      <div class="one wide column">
        <img id="img24" 
        class="ui small image" 
        src="Treasure Start.jpg" 
        alt="Hunt begin" 
        onclick="check(24)" />
      </div>
    </div>
  </div>

  <script>
    let locations = document.getElementById("locations");
    let penaltyy = document.getElementById("penalty");

    let ids = ["img0", "img1", "img2", "img3", "img4", "img5", "img6", "img7", "img8", "img9", "img10", "img11",
      "img12", "img13", "img14", "img15", "img16", "img17", "img18", "img19", "img20", "img21", "img22",
      "img23", "img24",];
    let checkCount = 0;
    let penalty = 0;
    let lastCheck = 0;
    let treasureLocation = 5;
    let trapLocation = 18;
    let gameOver = false;
    function check(position) {
      if (gameOver == true) {
        //do nothing
        return;
      }
      if (position === treasureLocation) {
        document.getElementById(ids[position]).src = "treasure.jpg";
        gameOver = true;
        penalty = penalty - 3;
      } else if (position === trapLocation) {
        document.getElementById(ids[position]).src = "trap.jpg";
        gameOver = true;
        penalty = penalty + 4;
      } else {
        document.getElementById(ids[position]).src = "pirate.jpg";
        penalty = penalty + 1;
      }
      checkCount++;
      locations.innerHTML = "Number of locations checked is " + checkCount;
      lastCheck = position;
      penaltyy.innerHTML = "Penalty is " + penalty;
    }

    function help() {
      let penaltyy = document.getElementById("penalty");
      event.preventDefault();

      const treasureRow = Math.floor(treasureLocation / 5);
      const treasureCol = treasureRow % 5;
      const lastLocationRow = Math.floor(lastCheck / 5);
      const lastLocationCol = lastCheck % 5;
      const rowDiff = Math.abs(treasureRow - lastLocationRow);
      const colDiff = Math.abs(treasureCol - lastLocationCol);

      // Check if the last location and treasure are next to each other
      let helpmsg;
      if (rowDiff <= 1 && colDiff <= 1 && rowDiff !== colDiff) {
        helpmsg = "Can smell it";
      } else if (rowDiff + colDiff === 2) {
        helpmsg = "Close Matie";
      } else {
        helpmsg = "Step Faster";
      }
      penalty += 2;

      penaltyy.innerHTML = "Penalty is " + penalty;
      document.getElementById("help").textContent = helpmsg;
    }
    // Pirate Game

    // Function to generate a random number between min and max (inclusive)
    function getRandomNumber(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    trapLocation = getRandomNumber(0, 24);
    treasureLocation = getRandomNumber(0, 24);

    function newGame() {
      // Reset locations and UI
      trapLocation = getRandomNumber(0, 24);
      treasureLocation = getRandomNumber(0, 24);
      locationsChecked = 0;
      penalty = 0;
      document.getElementById("counter").innerHTML = "Count: 0";
      document.getElementById("penalty").innerHTML = "Penalty: 0";
      document.getElementById("target").innerHTML = "Your time";
    }

    // Call newGame when the "New Game" button is clicked
    document.getElementById("newGame").onclick = newGame;

  </script>

</body>

</html>